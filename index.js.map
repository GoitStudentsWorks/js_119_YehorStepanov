{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/site-api.js","../src/js/loader.js","../src/js/artists-render.js","../src/img/sprite.svg","../src/js/artist-details-modal/artist-modal-helpers.js","../src/js/artist-details-modal/artist-modal-render-function.js","../src/js/artist-details-modal/artist-modal-handlers.js","../src/js/artist-details-modal/artist-details-modal.js"],"sourcesContent":["export default {\n  exampele: document.querySelector('.exampele'),\n  artistsList: document.querySelector('.artists__list'),\n  artistsLoadButton: document.querySelector('.artists__load-btn'), //Це приклад як додавати, не видаляйте\n\n  artistModalElems: {\n    artistModalEl: document.querySelector('.js-artist-modal'),\n    closeArtistModalBtnEl: document.querySelector('[data-artist-modal-close]'),\n    artistModalInnerEl: document.querySelector('.js-artist-modal-inner'),\n    artistModalBodyEl: document.querySelector('.js-artist-modal-body'),\n    artistModalLoaderEl: document.querySelector('.js-artist-modal-loader'),\n  },\n};\n","'use strict';\n\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api/';\n\nexport async function getArtistsList(page = 1) {\n  try {\n    const { data } = await axios.get('artists', {\n      params: {\n        limit: 8,\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    console.error('Error fetching artists:', error.message);\n    throw error;\n  }\n}\n\n// Fetch artist data and albums by artist ID\n//! ============================================================================\nexport const getArtistDataAndAlbums = async id => {\n  const res = await axios.get(`artists/${id}/albums`);\n  return res.data;\n};\n","'use strict';\n\nexport function showLoader(id) {\n  document.getElementById(id).classList.remove('hidden');\n}\n\nexport function hideLoader(id) {\n  document.getElementById(id).classList.add('hidden');\n}\n","'use strict';\n\nimport { getArtistsList } from './site-api';\nimport refs from './refs';\nimport Pagination from 'tui-pagination';\nimport { showLoader, hideLoader } from './loader';\n\nasync function createArtistsList(page) {\n  try {\n    const data = await getArtistsList(page);\n    showLoader('artists__loader');\n    const markup = data.artists\n      .map(\n        item => `\n          <li class=\"artists__item\">\n            <img class=\"artists__image\" src=\"${item.strArtistThumb}\" alt=\"${\n          item.strArtist\n        }\" onerror=\"this.onerror=null;this.src='/img/img-placeholder.svg';\">\n            <ul class=\"artists__genre-list\">\n              ${item.genres\n                .map(g => `<li class=\"artists__genre-item\">${g}</li>`)\n                .join('')}\n            </ul>\n            <h3 class=\"artists__title-name\">${item.strArtist}</h3>\n            <p class=\"artists__text-biography\">${item.strBiographyEN}</p>\n\n            <button class=\"artists__more-btn js-artist-more-btn\" data-artists-id=\"${\n              item._id\n            }\">\n              Learn More \n              <svg class=\"artists-more__caret\">\n                <use href='/img/sprite.svg#icon-caret-right'></use>\n              </svg>\n            </button>\n          </li>\n        `\n      )\n      .join('');\n\n    refs.artistsList.innerHTML = markup;\n    hideLoader('artists__loader');\n    return data;\n  } catch (error) {\n    hideLoader('artists__loader');\n    console.error('Error in createArtistsList:', error);\n  }\n}\n\nconst paginationEl = document.getElementById('pagination');\nlet pagination = null;\n\nasync function initPagination() {\n  const firstData = await createArtistsList(1);\n\n  pagination = new Pagination(paginationEl, {\n    totalItems: firstData.totalArtists,\n    itemsPerPage: firstData.limit,\n    visiblePages: 5,\n    centerAlign: true,\n    template: {\n      page: '<a href=\"#\" class=\"custom-page-btn\">{{page}}</a>',\n      currentPage: '<strong class=\"custom-current\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"custom-move-btn tui-{{type}}\">' +\n        '<span class=\"icon-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"custom-move-btn disabled custom-{{type}}\">' +\n        '<span class=\"icon-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton: '<a href=\"#\" class=\"custom-ellip\">...</a>',\n    },\n  });\n\n  pagination.on('afterMove', async event => {\n    const currentPage = event.page;\n    showLoader('artists__loader');\n    await createArtistsList(currentPage);\n  });\n}\n\ninitPagination();\n","export default \"__VITE_ASSET__Cxt1_k5l__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport spriteUrl from '../../img/sprite.svg';\n\nlet resizeTimeout;\n\n// Artist Info Helpers\n//! ============================================================================\n\n/** Returns artist active years string */\nexport const getActiveYears = ({ intFormedYear, intDiedYear = '' }) => {\n  let result = '—';\n  const formed = Number(intFormedYear);\n  const died = Number(intDiedYear);\n\n  if (!formed) {\n    result = 'information missing';\n  } else if (!intDiedYear) {\n    result = `${formed}-present`;\n  } else if (died >= formed) {\n    result = `${formed}-${died}`;\n  }\n\n  return result;\n};\n\n/** Defines number of lines for bio depending on screen width */\nconst getLinesForScreen = () => {\n  if (window.matchMedia('(min-width: 1440px)').matches) return 5;\n  if (window.matchMedia('(min-width: 768px)').matches) return 4;\n  return 11;\n};\n\n/** Clamps artist bio text to fit screen and adds \"...\" if truncated */\nexport const clampArtistBio = () => {\n  const el = document.querySelector(\n    '.about-artist__info-item--bio .about-artist__info-item-text'\n  );\n  if (!el) return;\n\n  if (!el.dataset.fullText) el.dataset.fullText = el.textContent.trim();\n  const fullText = el.dataset.fullText;\n\n  el.style.visibility = 'hidden';\n  const lineHeight = parseFloat(getComputedStyle(el).lineHeight);\n  const maxLines = getLinesForScreen();\n  const maxHeight = lineHeight * maxLines;\n\n  let words = fullText.split(' ');\n  let truncated = fullText;\n  el.textContent = truncated;\n\n  while (el.scrollHeight > maxHeight && words.length > 0) {\n    words.pop();\n    truncated = words.join(' ');\n    el.textContent = truncated + '...';\n  }\n\n  el.style.maxHeight = `${maxHeight}px`;\n  el.style.overflowY = el.scrollHeight > maxHeight ? 'auto' : 'hidden';\n  el.style.visibility = 'visible';\n};\n\nexport function debouncedClamp() {\n  clearTimeout(resizeTimeout);\n  resizeTimeout = setTimeout(clampArtistBio, 150);\n}\n\n// Album & Track Helpers\n//! ============================================================================\n\n/** Converts track duration from ms to M:SS format */\nexport function convertTrackDuration(ms) {\n  if (ms == null) return '0:00';\n\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n\n/** Removes empty tracks and albums without valid tracks */\nexport function filterAlbums(albums, hideEmptyAlbums = true) {\n  return albums.reduce((acc, album) => {\n    const validTracks = album.tracks.filter(\n      track => Number(track.intDuration) > 0 && track.strTrack?.trim()\n    );\n\n    if (hideEmptyAlbums && validTracks.length === 0) return acc;\n\n    acc.push({ ...album, tracks: validTracks });\n    return acc;\n  }, []);\n}\n\n// Validation Helpers\n//! ============================================================================\n\n/** Checks if a string is a valid http/https link */\nexport function isValidLink(link) {\n  if (typeof link !== 'string' || link.trim() === '') return false;\n\n  try {\n    const url = new URL(link);\n    return url.protocol === 'http:' || url.protocol === 'https:';\n  } catch {\n    return false;\n  }\n}\n\n// Notifications\n//! ============================================================================\n\n/** Displays a custom error toast with icons */\nexport function showErrorMessage(text) {\n  iziToast.error({\n    message: text,\n    position: 'topRight',\n    class: 'custom-error-toast',\n    timeout: 5000,\n    onOpening: (instance, toast) => {\n      const body = toast.querySelector('.iziToast-body');\n      if (body) {\n        const iconWrapper = document.createElement('span');\n        iconWrapper.classList.add('iziToast-icon');\n        iconWrapper.innerHTML = `\n          <svg class=\"toast-error-icon\" width=\"24\" height=\"24\">\n            <use xlink:href=\"${spriteUrl}#icon-toast-error\"></use>\n          </svg>\n        `;\n        body.prepend(iconWrapper);\n      }\n\n      const closeBtn = toast.querySelector('.iziToast-close');\n      if (closeBtn) {\n        closeBtn.innerHTML = `\n          <svg class=\"toast-close-icon\" width=\"16\" height=\"16\">\n            <use xlink:href=\"${spriteUrl}#icon-toast-close\"></use>\n          </svg>\n        `;\n      }\n    },\n  });\n}\n","import { getArtistDataAndAlbums } from '../site-api';\nimport { openArtistModal } from './artist-modal-handlers';\nimport {\n  clampArtistBio,\n  convertTrackDuration,\n  filterAlbums,\n  getActiveYears,\n  isValidLink,\n  showErrorMessage,\n} from './artist-modal-helpers';\nimport refs from '../refs';\n\nconst modalRefs = refs.artistModalElems;\n\n// Modal Renderer\n//! ============================================================================\n\n/** Opens artist modal and renders artist info with albums */\nexport async function renderArtistModal(id) {\n  openArtistModal();\n  showLoader();\n\n  try {\n    const artistData = await getArtistDataAndAlbums(id);\n    const { albumsList } = artistData;\n\n    createArtistAbout(artistData);\n    const filteredAlbums = filterAlbums(albumsList, true);\n    createArtistAlbums(filteredAlbums);\n\n    setTimeout(clampArtistBio, 0);\n  } catch (error) {\n    showErrorMessage(error.message);\n  } finally {\n    hideLoader();\n  }\n}\n\n// Artist Info Templates\n//! ============================================================================\n\n/** Returns markup for artist about section */\nconst aboutArtistTemplate = item => {\n  const {\n    strArtist,\n    strArtistThumb,\n    intFormedYear,\n    intDiedYear = '',\n    strGender,\n    intMembers,\n    strCountry,\n    strBiographyEN,\n    genres,\n  } = item;\n\n  const activeYears = getActiveYears({ intFormedYear, intDiedYear });\n  const isBand = intMembers && intMembers > 1;\n\n  const artistInfoList = [\n    { title: 'Years active', key: 'activeYears', value: activeYears },\n    { title: 'Sex', key: 'strGender', value: strGender, isBand: isBand },\n    { title: 'Members', key: 'intMembers', value: intMembers, isBand: isBand },\n    { title: 'Country', key: 'strCountry', value: strCountry },\n    { title: 'Biography', key: 'strBiographyEN', value: strBiographyEN },\n  ];\n\n  const artistInfoListMarkUp = createArtistInfoList(artistInfoList);\n  const musicGenresMarkUp = createMusicGenresList(genres);\n\n  return `<section class=\"about-artist js-about-artist\">\n                <h2 class=\"about-artist__title\">${strArtist}</h2>\n                <div class=\"about-artist__content\">\n                    <img\n                    src=\"${strArtistThumb}\"\n                    class=\"about-artist__image\"\n                    alt=\"${strArtist}\"\n                    />\n                    <ul class=\"about-artist__info-list\">\n                        ${artistInfoListMarkUp}\n                        <li class=\"about-artist__info-item--genres\">\n                          <ul class=\"about-artist__music-genres\">\n                             ${musicGenresMarkUp}\n                          </ul>\n                        </li>\n                    </ul>\n                </div>\n            </section>`;\n};\n\n/** Returns markup for one artist info list item */\nfunction artistInfoItemTemplate(item) {\n  const { key, value, title, isBand = '' } = item;\n  if (key === 'strGender' && isBand) return '';\n  if (key === 'intMembers' && !isBand) return '';\n\n  const itemClass =\n    key === 'strBiographyEN'\n      ? 'about-artist__info-item about-artist__info-item--bio'\n      : 'about-artist__info-item';\n  const itemMarkup = `<li class=\"${itemClass}\">\n                           <b class=\"about-artist__info-item-title\">${title}</b>\n                           <p class=\"about-artist__info-item-text\">${value}</p>\n                        </li>`;\n  return value ? itemMarkup : '';\n}\n\n/** Builds artist info list markup */\nfunction createArtistInfoList(items) {\n  return items.map(artistInfoItemTemplate).join('\\n');\n}\n\n// Artist Genres\n//! ============================================================================\n\n/** Returns markup for one genre item */\nconst musicGenreTemplate = genre =>\n  `<li class=\"about-artist__music-genre\">${genre}</li>`;\n\n/** Builds genres list markup */\nfunction createMusicGenresList(items) {\n  const hasGenres = items?.length > 0;\n  const markup = hasGenres ? items.map(musicGenreTemplate).join('\\n') : '';\n  return markup;\n}\n\n// Artist About Section\n//! ============================================================================\n\n/** Inserts artist about section into modal */\nconst createArtistAbout = artist => {\n  const markup = aboutArtistTemplate(artist);\n  modalRefs.artistModalInnerEl.insertAdjacentHTML('afterbegin', markup);\n};\n\n// Artist Albums\n//! ============================================================================\n\n/** Inserts artist albums section into modal */\nconst createArtistAlbums = artist => {\n  const markup = artistAlbumListTemplate(artist);\n  modalRefs.artistModalInnerEl.insertAdjacentHTML('beforeend', markup);\n};\n\n/** Returns albums section markup */\nfunction artistAlbumListTemplate(items) {\n  const albumsList = artistAlbumsTemplate(items);\n\n  return `<section class=\"artist-albums js-artist-modal-albums\">\n            <h2 class=\"artist-albums__title\">Albums</h2>\n            <ul class=\"artist-albums__list js-artist-albums\">\n              ${albumsList}\n            </ul>\n          </section>`;\n}\n\n/** Builds albums list markup */\nfunction artistAlbumsTemplate(albums) {\n  return albums.map(artistAlbumItemTemplate).join('\\n');\n}\n\n/** Returns markup for one album */\nfunction artistAlbumItemTemplate(album) {\n  const { strAlbum = '', tracks } = album;\n  const tracksList = tracks?.length > 0 ? tracksTemplate(tracks) : '';\n\n  return `<li class=\"artist-album\">\n            <h3 class=\"artist-album__title\">${strAlbum}</h3>\n            <div class=\"artist-album__tracks\">\n              <ul class=\"artist-tracks__header\">\n                <li class=\"artist-tracks__header-item header-track\">Track</li>\n                <li class=\"artist-tracks__header-item header-duration\">Time</li>\n                 <li class=\"artist-tracks__header-item header-link\">Link</li>\n              </ul>\n              <ul class=\"artist-tracks__list\">\n                ${tracksList}\n              </ul>\n            </div>\n          </li>`;\n}\n\n// Artist Album Tracks\n//! ============================================================================\n\n/** Returns markup for one track */\nfunction artistAlbumTrackTemplate(item) {\n  const { strTrack, intDuration, movie } = item;\n  const movieMarkUp = movieTemplate(movie);\n  const duration = convertTrackDuration(intDuration);\n\n  return `<li class=\"artist-tracks__item\">\n            <span class=\"artist-tracks__item-name\">${strTrack}</span>\n            <span class=\"artist-tracks__item-duration\">${duration}</span>\n            ${movieMarkUp}\n          </li>`;\n}\n\n/** Builds tracks list markup */\nfunction tracksTemplate(items) {\n  return items.map(artistAlbumTrackTemplate).join('\\n');\n}\n\n// Track Movie Links\n//! ============================================================================\n\n/** Returns YouTube link markup if valid */\nfunction movieTemplate(movie) {\n  if (!isValidLink(movie)) return '';\n\n  const markup = `<a href=\"${movie}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"artist-tracks__item-link\">\n                          <svg class=\"artist-tracks__item-icon\" width=\"21\" height=\"15\">\n                            <use href=\"../img/sprite.svg#icon-Youtube\"></use>\n                          </svg>\n                      </a>`;\n  return markup;\n}\n\n// Modal Loader\n//! ============================================================================\n\n/** Shows loader inside modal */\nexport const showLoader = () => {\n  modalRefs.artistModalLoaderEl.classList.add('modal-loader-visible');\n};\n\n/** Hides loader inside modal */\nexport const hideLoader = () => {\n  modalRefs.artistModalLoaderEl.classList.remove('modal-loader-visible');\n};\n","import { renderArtistModal } from './artist-modal-render-function';\nimport refs from '../refs';\nimport { debouncedClamp } from './artist-modal-helpers';\n\nconst modalRefs = refs.artistModalElems;\nlet scrollY = 0;\n\n// Artist About Button Click Handler\n//! ============================================================================\nexport const handleAboutArtistBtnClick = e => {\n  const isTargetEl = e.target.classList.contains('js-artist-more-btn');\n  if (!isTargetEl) return;\n\n  renderArtistModal(e.target.dataset.artistsId);\n};\n\n// Modal Handlers\n//! ============================================================================\nexport function openArtistModal() {\n  scrollY = window.scrollY;\n  document.body.style.top = `-${scrollY}px`;\n  document.body.classList.add('scroll-lock');\n\n  modalRefs.artistModalEl.classList.add('artist-modal--is-open');\n\n  document.addEventListener('keydown', handleEscKeydown);\n  window.addEventListener('resize', debouncedClamp);\n  modalRefs.artistModalEl.addEventListener('click', handleArtistBackdropClick);\n  modalRefs.closeArtistModalBtnEl.addEventListener('click', closeArtistModal);\n\n  modalRefs.artistModalBodyEl.scrollTop = 0;\n}\n\nexport function closeArtistModal() {\n  modalRefs.artistModalEl.classList.remove('artist-modal--is-open');\n  document.body.classList.remove('scroll-lock');\n  const y = Math.abs(parseInt(document.body.style.top || '0', 10));\n  document.body.style.top = '';\n  window.scrollTo(0, y);\n\n  modalRefs.artistModalInnerEl.innerHTML = '';\n\n  document.removeEventListener('keydown', handleEscKeydown);\n  window.removeEventListener('resize', debouncedClamp);\n  modalRefs.artistModalEl.removeEventListener(\n    'click',\n    handleArtistBackdropClick\n  );\n  modalRefs.closeArtistModalBtnEl.removeEventListener(\n    'click',\n    closeArtistModal\n  );\n}\n\n// ESC Key Handler\n//! ============================================================================\nfunction handleEscKeydown(e) {\n  if (e.key === 'Escape') {\n    closeArtistModal();\n  }\n}\n\n// Backdrop Click Handler\n//! ============================================================================\nexport function handleArtistBackdropClick(e) {\n  if (e.target === modalRefs.artistModalEl) {\n    closeArtistModal();\n  }\n}\n","import refs from '../refs';\nimport { handleAboutArtistBtnClick } from './artist-modal-handlers';\n\nconst { artistsList } = refs;\n\n// Event Listener: Open Artist Modal\n//! ============================================================================\nartistsList.addEventListener('click', handleAboutArtistBtnClick);\n"],"names":["refs","axios","getArtistsList","page","data","error","getArtistDataAndAlbums","id","showLoader","hideLoader","createArtistsList","markup","item","g","paginationEl","pagination","initPagination","firstData","Pagination","event","currentPage","spriteUrl","resizeTimeout","getActiveYears","intFormedYear","intDiedYear","result","formed","died","getLinesForScreen","clampArtistBio","el","fullText","lineHeight","maxLines","maxHeight","words","truncated","debouncedClamp","convertTrackDuration","ms","totalSeconds","minutes","seconds","filterAlbums","albums","hideEmptyAlbums","acc","album","validTracks","track","_a","isValidLink","link","url","showErrorMessage","text","iziToast","instance","toast","body","iconWrapper","closeBtn","modalRefs","renderArtistModal","openArtistModal","artistData","albumsList","createArtistAbout","filteredAlbums","createArtistAlbums","aboutArtistTemplate","strArtist","strArtistThumb","strGender","intMembers","strCountry","strBiographyEN","genres","activeYears","isBand","artistInfoListMarkUp","createArtistInfoList","musicGenresMarkUp","createMusicGenresList","artistInfoItemTemplate","key","value","title","itemMarkup","items","musicGenreTemplate","genre","artist","artistAlbumListTemplate","artistAlbumsTemplate","artistAlbumItemTemplate","strAlbum","tracks","tracksList","tracksTemplate","artistAlbumTrackTemplate","strTrack","intDuration","movie","movieMarkUp","movieTemplate","duration","scrollY","handleAboutArtistBtnClick","e","handleEscKeydown","handleArtistBackdropClick","closeArtistModal","y","artistsList"],"mappings":"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"}